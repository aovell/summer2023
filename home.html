<!DOCTYPE html>
<html>
<head>
    <style>
        ul {
        list-style-type: none;
        margin: 0;
        padding: 0;
        overflow: hidden;
        background-color:#f8f2f2;
      }
      
      li {
        float: left;
        border-right:1px solid #080808;
      }
      
      li:last-child {
        border-right: none;
      }
      li a {
        display: block;
        color: rgb(10, 9, 9);
        text-align: center;
        padding: 14px 16px;
        text-decoration: none;
      }
      
      li a:hover:not(.active) {
  background-color: #f3e778;
}
      
      .active {
  background-color:  #eed814;
}


</style>


</head>

<body>
    <h1>Google Books Search</h1>
    <nav>
        <ul>
            <li><a href = "index.html"> Main menu</a></li>
      <li><a class = "active" href="home.html">Home</a></li>
      <li><a href="myBookshelf.html">My Bookshelf</a></li>
        </ul>
      </nav>
<!-- index.html -->
<!DOCTYPE html>
<html>
<head>
    <title>Book Search</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        .pagination {
            margin-top: 10px;
        }

        .pagination a {
            margin: 0 5px;
            padding: 5px 10px;
            border: 1px solid #ccc;
            text-decoration: none;
            color: #333;
        }

        .pagination a.active {
            background-color: #ccc;
        }
    </style>
</head>
<body>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<input type="text" id="searchInput" placeholder="Enter search terms">
<button id="searchBtn">Search</button>
<div id="pagination"></div>
<div id="results"></div>
<div id="bookDetails"></div>
<script>
$(document).ready(function() {
  var searchTerms = '';
  var currentPage = 0;
  var totalItems = 0;
  var totalPages = 0;

  // Function to perform book search
  function searchBooks(terms, page) {
    $.ajax({
      url: 'https://www.googleapis.com/books/v1/volumes',
      dataType: 'json',
      data: {
        q: terms,
        startIndex: page * 10, // Adjust based on desired number of books per page
        maxResults: 10 // Adjust based on desired number of books per page
      },
      success: function(data) {
        displayResults(data.items);
        updatePagination(page, data.totalItems);
      },
      error: function() {
        $('#results').html('Error occurred during search.');
      }
    });
  }

  // Function to display search results
  function displayResults(books) {
    var resultsHtml = '';

    if (books && books.length > 0) {
      $.each(books, function(index, book) {
        var title = book.volumeInfo.title;
        var cover = (book.volumeInfo.imageLinks && book.volumeInfo.imageLinks.thumbnail) ? book.volumeInfo.imageLinks.thumbnail : '';

        resultsHtml += '<div class="book">';
        resultsHtml += '<img src="' + cover + '" alt="' + title + '">';
        resultsHtml += '<span class="title">' + title + '</span>';
        resultsHtml += '</div>';
      });
    } else {
      resultsHtml = 'No books found.';
    }

    $('#results').html(resultsHtml);
  }

  // Function to update pagination
  function updatePagination(page, total) {
    currentPage = page;
    totalItems = total;
    totalPages = Math.ceil(totalItems / 10); // Adjust based on desired number of books per page

    var paginationHtml = '';
    for (var i = 0; i < totalPages; i++) {
      paginationHtml += '<a href="#" class="page-link" data-page="' + i + '">' + (i + 1) + '</a>';
    }
    $('#pagination').html(paginationHtml);

    // Highlight the current page
    $('.page-link[data-page="' + currentPage + '"]').addClass('active');
  }

  // Function to display book details
  function displayBookDetails(book) {
    var detailsHtml = '';

    var title = book.volumeInfo.title;
    var authors = (book.volumeInfo.authors) ? book.volumeInfo.authors.join(', ') : 'N/A';
    var publisher = (book.volumeInfo.publisher) ? book.volumeInfo.publisher : 'N/A';
    var publishedDate = (book.volumeInfo.publishedDate) ? book.volumeInfo.publishedDate : 'N/A';
    var description = (book.volumeInfo.description) ? book.volumeInfo.description : 'N/A';

    detailsHtml += '<h2>' + title + '</h2>';
    detailsHtml += '<p><strong>Authors:</strong> ' + authors + '</p>';
    detailsHtml += '<p><strong>Publisher:</strong> ' + publisher + '</p>';
    detailsHtml += '<p><strong>Published Date:</strong> ' + publishedDate + '</p>';
    detailsHtml += '<p><strong>Description:</strong> ' + description + '</p>';

    $('#bookDetails').html(detailsHtml);
  }

  // Perform initial search when the page loads
  searchBooks('', 0);

  // Handle search button click event
  $('#searchBtn').click(function() {
    searchTerms = $('#searchInput').val();
    searchBooks(searchTerms, 0);
  });

  // Handle pagination click event
  $(document).on('click', '.page-link', function(e) {
    e.preventDefault();
    var page = parseInt($(this).data('page'));
    searchBooks(searchTerms, page);
  });

  // Handle book click event
  $(document).on('click', '.book', function() {
    var bookIndex = $(this).index();
    var selectedBook = (totalPages * 10) * currentPage + bookIndex;

    if (selectedBook >= 0 && selectedBook < totalItems) {
      var book = data.items[selectedBook];
      displayBookDetails(book);
    }
  });
});
</script>
</body>


<!-- myBookshelf.html -->
<!DOCTYPE html>
  <html lang="en">
    <head>
      <meta charset="UTF-8">
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
      <script src="script.js"></script> 
    </head>
  </head>


  <body>
    <h1>My Bookshelf</h1>
    <div id="bookshelf"></div>
  </body>
  </html>
  